# AI+桌面视觉 Agent - 灵析 (IamDog)

**本文正在参与「GEEK AI｜2025年度AI应用创新挑战赛」**

**赛道三**：AI 原生应用创新
**参赛方向**：通用生产力工具 + 新型交互体验产品
**项目名称**：灵析 (IamDog) | **版本**：v0.1.7 | **开发者**：哈雅（263321）

---

## 💡 一句话价值主张

**中国首批支持MCP协议的桌面AI Agent——让AI看到你的屏幕，直接调用企业系统，效率提升15-20倍。**

---

# 一、背景

2025年，AI Agent百花齐放：Claude Code写代码、GitHub Copilot补全代码、ChatGPT对话、豆包视频通话。

但我发现一个问题：**虽然专业，但不够"快"。**

**什么叫"不够快"？**

钉钉上有人问："上周需求进度怎么样？"
你的大脑产生疑问："需求现在什么状态？"
但你还需要：截图→打开AI→上传→输入→等待→手动查Aone→整理→回复

**从看到问题到AI给答案，中间隔了7步操作。**

**我想要的是**：当我看到问题、产生想法时，AI就已经开始工作，而不是让我先"转述"一遍。

就像豆包的视频通话，AI直接"看到"你周围环境，你问"这是哪里"就得到答案，**桌面端也应该如此。**

---

# 二、痛点

## 三大核心痛点

### 痛点1：看不到屏幕，必须"转述"

| 场景 | 现状 | 耗时 |
|------|------|------|
| 钉钉消息 | 截图→上传→输入→等待 | 40秒 |
| 监控数据 | 截图→上传→描述背景→等待 | 55秒 |
| 代码Review | 复制→切换应用→粘贴→输入→等待 | 33秒 |

**问题**：AI看不到屏幕，你必须"搬运"信息。

### 痛点2：操作不了企业系统，AI只能"建议"

```
你："分析这个Aone需求"
AI："建议你查询关联任务和负责人"
你：（手动打开Aone→搜索→查看→整理）耗时5分钟

你："找XX技术文档"
AI："建议你搜索钉钉文档"
你：（手动打开钉钉→搜索→阅读→整理）耗时10分钟
```

**问题**：AI无法调用企业系统，所有操作还得手动完成。

### 痛点3：效率黑洞

```
每个问题平均耗时：2-5分钟
每天20个问题：40-100分钟
每年：160-400小时 = 20-50个工作日

你每年有1-2个月，浪费在"转述信息"和"手动查询"上。
```

---

# 三、解决方案

## 3.1 核心能力

**灵析 = 桌面视觉 + MCP企业集成 + AI Agent**

### 能力1：看到屏幕 👁️
- 智能识别当前窗口，自动截图
- 支持任何应用：钉钉、浏览器、代码编辑器、监控大盘
- 95%图片压缩（6MB→300KB）
- 快捷键一键唤醒（Cmd+Shift+0）

### 能力2：调用企业系统 🤚
- **48+企业MCP工具**：Aone、钉钉文档、Skyline、Code、TaoAB、CodeWiki
- OAuth 2.1 PKCE安全认证
- 自动查询数据、自动操作系统
- 真正的AI Agent能力

### 能力3：秒级响应 ⚡
- 快捷键→输入→回车，3步完成
- AI自动：截图→理解→查询→分析→回答
- 3-15秒得到完整答案
- 效率提升15-20倍

## 3.2 使用体验对比

| 场景 | 传统AI工具 | 灵析 | 提升 |
|------|-----------|------|------|
| 钉钉消息理解 | 截图→上传→输入→等待<br/>40秒 | 快捷键→"他说啥"<br/>3秒 | **13倍** |
| Aone需求分析 | 截图→上传→手动查Aone→整理<br/>5分钟 | 快捷键→"分析需求"<br/>15秒 | **20倍** |
| 文档检索 | 描述→手动搜索→阅读<br/>10分钟 | 快捷键→"找XX文档"<br/>20秒 | **30倍** |

**平均效率提升：15-20倍**

## 3.3 工作流变化

**传统方式：**
```
你看到 → 你转述 → AI理解 → AI建议 → 你操作 → 你回复
        [-------- 你的工作 --------]  [你的工作]
耗时：2-5分钟
```

**使用灵析：**
```
你看到 → AI看到 → AI查询 → AI分析 → AI回答
                [-------- AI的工作 --------]
耗时：3-15秒
```

**核心改变：从"你当中间商"到"AI全自动"**

---

# 四、实现方案

## 4.1 架构设计

```
┌─────────────────────────────────┐
│         灵析桌面应用             │
├─────────────────────────────────┤
│  桌面宠物 | 对话窗口 | 配置管理  │
├─────────────────────────────────┤
│        核心能力层                │
│  ┌──────┐ ┌──────┐ ┌──────┐   │
│  │屏幕感知│ │MCP集成│ │AI对话│   │
│  │• 智能 │ │• 48+ │ │• 千问│   │
│  │  截图 │ │  工具│ │  VL  │   │
│  │• 自动 │ │• OAuth│ │• 131K│   │
│  │  压缩│ │• 工具 │ │  上下│   │
│  │      │ │  调用│ │  文  │   │
│  └──────┘ └──────┘ └──────┘   │
└─────────────────────────────────┘
```

**核心流程：**
```
按快捷键 → 输入问题 → AI自动（截图+理解+查询+分析） → 答案
总耗时：3-15秒
```

## 4.2 核心能力实现

### 4.2.1 桌面视觉感知

**技术方案**：
- Electron desktopCapturer API
- 智能过滤自身窗口
- 自动识别用户工作窗口

**图片优化**：
- PNG→JPEG，质量80%
- 4K→1080p（缩放50%）
- 6MB→300KB（压缩95%）

### 4.2.2 MCP协议集成 ⭐ 核心差异化

**为什么是MCP？**
- 2024年11月，Anthropic发布Model Context Protocol
- AI调用外部系统的标准化协议
- 被誉为"AI的USB接口"

**技术实现**：
- 官方SDK：@modelcontextprotocol/sdk v1.25.2
- OAuth 2.1 PKCE认证（最新安全标准）
- HTTP/SSE流式传输
- Token自动刷新

**48+企业工具**：

| 系统 | 能力 |
|------|------|
| Aone（30+） | 需求查询、任务管理、状态更新、评论管理 |
| 钉钉文档（10+） | 文档读写、知识库检索、语义搜索 |
| Skyline（8+） | 开关管理、配置推送、实验管理 |
| Code（20+） | 代码搜索、MR管理、Issue操作 |
| TaoAB（5+） | 实验查询、流量管理 |
| CodeWiki（3+） | 语义搜索、文档获取 |

**实际应用**：

```
场景：分析Aone需求

传统方式：
你截图 → 你上传 → AI看图 → 你查Aone → 你整理 → AI建议
耗时：5分钟

使用灵析：
快捷键 → "分析需求" → AI看屏幕+调用Aone MCP+自动查询+综合分析
耗时：15秒

效率：20倍
```

### 4.2.3 智能上下文管理

**技术亮点**：
- 131K tokens超大上下文
- 优先移除图片策略（保留文字对话）
- 对话历史提升67%
- Token节省64%

**为什么重要**：
- 传统方式：保留3轮对话（4,800 tokens）
- 灵析方式：保留5轮对话（2,000 tokens）
- 更长的对话记忆，更完整的上下文

### 4.2.4 多会话管理

- 多个独立会话，互不干扰
- 会话自动保存和恢复
- 左侧列表快速切换
- 本地持久化存储

### 4.2.5 企业级安全

- BUC统一认证
- 本地存储，不上传云端
- 命令执行黑名单机制
- OAuth 2.1安全标准

---

# 五、部署方式

```bash
# Homebrew安装（推荐）
brew tap HayaKus/iamdog
brew install --cask iamdog

# 或从GitHub下载DMG
https://github.com/HayaKus/IamDog/releases
```

**首次启动若提示"已损坏"**：
```bash
xattr -cr /Applications/灵析.app
```

---

# 六、差异化优势

## 6.1 产品对比

| 产品 | 屏幕感知 | MCP协议 | 企业工具 | 交互方式 |
|------|---------|---------|---------|---------|
| ChatGPT/Claude | ❌ 需上传 | ❌ | 0 | 手动 |
| Claude Code | ❌ 不支持图片 | ✅ | 需配置 | 命令行 |
| Copilot | ⚠️ 仅代码 | ❌ | 0 | IDE内 |
| 豆包APP | ✅ 视频 | ❌ | 0 | 移动端 |
| **灵析** | **✅ 智能** | **✅** | **48+** | **快捷键** |

## 6.2 四大核心优势

### 1. 首批MCP桌面应用 ⭐⭐⭐
- MCP协议2024年11月发布，仅2个月
- 深度集成48+企业工具
- OAuth 2.1最新安全标准
- 真正的AI Agent能力

### 2. 屏幕感知 + 企业集成 ⭐⭐⭐
- 其他工具：要么能看屏幕，要么能调系统
- 灵析：既能看屏幕，又能调系统
- 从"看到"到"做到"的完整闭环

### 3. 效率提升15-20倍 ⭐⭐
- 3-15秒完成原本2-5分钟的工作
- 全程纯键盘操作
- 不打断工作流

### 4. 企业级安全 ⭐
- BUC认证 + OAuth 2.1
- 本地存储，数据不出域
- 命令安全验证

---

# 七、技术亮点

## 7.1 技术创新

### 创新1：MCP协议深度集成
- 官方SDK：@modelcontextprotocol/sdk v1.25.2
- 48+企业工具开箱即用
- OAuth 2.1 PKCE认证
- 授权服务器自动发现
- Token自动刷新

### 创新2：智能上下文管理算法
- 优先移除图片策略
- 对话历史提升67%
- Token节省64%
- 支持131K上下文

### 创新3：跨应用屏幕感知
- 智能窗口识别
- 95%图片压缩
- 多桌面支持
- < 500ms截图处理

## 7.2 性能指标

| 指标 | 数值 | 说明 |
|------|------|------|
| MCP工具 | 48+个 | 企业集成 |
| 上下文 | 131K tokens | 超大容量 |
| 启动时间 | < 2秒 | 快速启动 |
| 响应延迟 | < 100ms | 流式首字 |
| 图片压缩 | 95% | 优化传输 |
| 效率提升 | 15-20倍 | vs传统工具 |

## 7.3 技术栈

- **AI**：千问VL Max多模态模型（131K上下文）
- **MCP**：@modelcontextprotocol/sdk v1.25.2
- **桌面**：Electron 28+
- **前端**：React 18 + TypeScript 5.3 + Tailwind CSS
- **认证**：BUC + OAuth 2.1 PKCE

---

# 八、实际应用案例

## 案例1：Aone需求分析

**传统方式**：截图→上传→手动查Aone→整理信息→询问AI → **5分钟**
**使用灵析**：快捷键→"分析需求"→AI看屏幕+调用Aone+自动分析 → **15秒**
**提升**：20倍

## 案例2：钉钉消息理解

**传统方式**：截图→上传→输入问题→等待 → **40秒**
**使用灵析**：快捷键→"他说啥"→回车 → **3秒**
**提升**：13倍

## 案例3：文档检索

**传统方式**：描述需求→AI建议→手动搜索钉钉→阅读→整理 → **10分钟**
**使用灵析**：快捷键→"找XX文档"→AI自动调用知识库MCP→检索 → **20秒**
**提升**：30倍

## 案例4：监控数据分析

**传统方式**：截图→上传→描述背景→AI分析→手动查历史数据→对比 → **3分钟**
**使用灵析**：快捷键→"看下原因"→AI看屏幕+自动查历史+综合分析 → **10秒**
**提升**：18倍

---

# 九、总结

## 9.1 核心价值

**从"AI助手"到"AI同事"**

| 维度 | 传统AI助手 | 灵析AI同事 |
|------|-----------|-----------|
| 信息获取 | 你转述 | AI看屏幕 |
| 系统操作 | 你手动 | AI调用48+工具 |
| 工作模式 | 你指挥→AI执行 | AI主动获取→分析→决策 |
| 效率 | 基准 | **15-20倍** |

## 9.2 差异化优势

**技术创新**：
- ⭐⭐⭐ 中国首批支持MCP协议的桌面应用
- ⭐⭐⭐ 屏幕感知+企业集成的完美结合
- ⭐⭐ 智能上下文管理算法（67%历史提升）

**产品创新**：
- ⭐⭐⭐ 从"看到"到"做到"的完整闭环
- ⭐⭐ 15-20倍效率提升
- ⭐⭐ 快捷键纯键盘操作

**企业级**：
- ⭐⭐ BUC认证 + OAuth 2.1
- ⭐⭐ 48+企业工具开箱即用
- ⭐ 数据本地化，安全可靠

## 9.3 一句话总结

**灵析，让AI像真正的同事一样，看到你的屏幕，操作企业系统，让工作效率提升15-20倍。** 🐕✨

---

**项目地址**：https://github.com/HayaKus/IamDog
**开发者**：哈雅（工号263321）
